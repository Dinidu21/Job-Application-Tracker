import{b as y,d as b,i as N,u as C,r as m,k as h,j as a,L as u,m as x,n as j}from"./index-BcebRXqZ.js";import{N as w,C as k,M as D,D as S}from"./Navbar-B3pPTqxW.js";import{c as f,a as r,C as A,b as I,d as E,e as M,f as U,I as n,B as L,S as q,U as B,g as $}from"./ThemeToggle-D8kry2uQ.js";import{A as z,L as T}from"./link-BEI_1NnN.js";import{M as H}from"./mail-CTyodk1i.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=f("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=f("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Z=()=>{const c=y(),p=b(),{id:i}=N(),{loading:d}=C(e=>e.applications),o=!!i,[t,l]=m.useState({company:"",position:"",status:"applied",appliedDate:new Date().toISOString().split("T")[0],notes:"",location:"",salary:"",jobUrl:"",contactEmail:"",contactName:""});m.useEffect(()=>{o&&i&&c(h(i)).then(e=>{if(h.fulfilled.match(e)){const s=e.payload;l({company:s.company,position:s.position,status:s.status,appliedDate:s.appliedDate?new Date(s.appliedDate).toISOString().split("T")[0]:"",notes:s.notes||"",location:s.location||"",salary:s.salary||"",jobUrl:s.jobUrl||"",contactEmail:s.contactEmail||"",contactName:s.contactName||""})}})},[i,o,c]);const g=async e=>{if(e.preventDefault(),o&&i){const s=await c(x({id:i,data:t}));x.fulfilled.match(s)&&p(`/applications/${i}`)}else{const s=await c(j(t));j.fulfilled.match(s)&&p("/dashboard")}},v=["applied","interview","offer","rejected","withdrawn"];return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(w,{}),a.jsxs("main",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-6 animate-fade-in",children:a.jsx(r,{asChild:!0,variant:"ghost",size:"sm",children:a.jsxs(u,{to:o?`/applications/${i}`:"/dashboard",children:[a.jsx(z,{className:"mr-2 h-4 w-4"}),"Back"]})})}),a.jsx("div",{className:"mx-auto max-w-3xl animate-slide-up",children:a.jsxs(A,{variant:"glass",children:[a.jsxs(I,{children:[a.jsx(E,{className:"text-3xl bg-gradient-to-r from-primary via-purple-500 to-primary bg-clip-text text-transparent",children:o?"Edit Application":"New Application"}),a.jsx(M,{children:o?"Update your application details":"Add a new job application to track"})]}),a.jsx(U,{children:a.jsxs("form",{onSubmit:g,className:"space-y-6",noValidate:!0,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(n,{id:"company",label:"Company",placeholder:"Company name",required:!0,value:t.company,onChange:e=>l({...t,company:e.target.value}),leftIcon:a.jsx(J,{className:"h-5 w-5"})}),a.jsx(n,{id:"position",label:"Position",placeholder:"Job title",required:!0,value:t.position,onChange:e=>l({...t,position:e.target.value}),leftIcon:a.jsx(L,{className:"h-5 w-5"})}),a.jsx(q,{id:"status",label:"Status",required:!0,value:t.status,onChange:e=>l({...t,status:e.target.value}),options:v.map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}))}),a.jsx(n,{id:"appliedDate",type:"date",label:"Applied Date",required:!0,value:t.appliedDate,onChange:e=>l({...t,appliedDate:e.target.value}),leftIcon:a.jsx(k,{className:"h-5 w-5"})}),a.jsx(n,{id:"location",label:"Location",placeholder:"City, State",value:t.location,onChange:e=>l({...t,location:e.target.value}),leftIcon:a.jsx(D,{className:"h-5 w-5"})}),a.jsx(n,{id:"salary",label:"Salary",placeholder:"$100,000",value:t.salary,onChange:e=>l({...t,salary:e.target.value}),leftIcon:a.jsx(S,{className:"h-5 w-5"})}),a.jsx(n,{id:"jobUrl",type:"url",label:"Job URL",placeholder:"https://...",value:t.jobUrl,onChange:e=>l({...t,jobUrl:e.target.value}),leftIcon:a.jsx(T,{className:"h-5 w-5"})}),a.jsx(n,{id:"contactName",label:"Contact Name",placeholder:"John Doe",value:t.contactName,onChange:e=>l({...t,contactName:e.target.value}),leftIcon:a.jsx(B,{className:"h-5 w-5"})}),a.jsx(n,{id:"contactEmail",type:"email",label:"Contact Email",placeholder:"contact@company.com",value:t.contactEmail,onChange:e=>l({...t,contactEmail:e.target.value}),leftIcon:a.jsx(H,{className:"h-5 w-5"})})]}),a.jsx($,{id:"notes",label:"Notes",rows:6,value:t.notes,onChange:e=>l({...t,notes:e.target.value}),placeholder:"Additional notes about this application..."}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsxs(r,{type:"submit",fullWidth:!0,isLoading:d,disabled:d,children:[a.jsx(O,{className:"mr-2 h-4 w-4"}),o?"Update Application":"Create Application"]}),a.jsx(r,{asChild:!0,variant:"outline",children:a.jsx(u,{to:o?`/applications/${i}`:"/dashboard",children:"Cancel"})})]})]})})]})})]})]})};export{Z as default};
