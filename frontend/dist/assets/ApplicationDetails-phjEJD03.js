import{b as v,d as N,i as y,u as w,r as C,k,j as e,L as n,h as M}from"./index-BcebRXqZ.js";import{N as l,C as D,M as A,D as E}from"./Navbar-B3pPTqxW.js";import{E as L,f as d,g as S,P as B,T as H,C as m}from"./format-BSNypp31.js";import{a as r,U as P,C as o,b as T,B as U,d as $,f as _}from"./ThemeToggle-D8kry2uQ.js";import{F as x}from"./file-text-XcvJRCz6.js";import{A as p,L as F}from"./link-BEI_1NnN.js";import{M as I}from"./mail-CTyodk1i.js";import{E as J}from"./external-link-Be-T0M6_.js";const W=()=>{const t=v(),h=N(),{id:i}=y(),{applications:u,loading:f}=w(s=>s.applications),a=i&&u.find(s=>s._id===i)||null;C.useEffect(()=>{i&&(a||t(k(i)))},[i,t]);const j=async()=>{i&&window.confirm("Are you sure you want to delete this application?")&&(await t(M(i)),h("/dashboard"))};if(f&&!a)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(l,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading application..."})]})})]});if(!a)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(l,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx(L,{icon:x,title:"Application not found",description:"The application you're looking for doesn't exist or has been deleted.",action:e.jsx(r,{asChild:!0,children:e.jsxs(n,{to:"/dashboard",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})})})]});const c=[{icon:D,label:"Applied Date",value:a.appliedDate?d(new Date(a.appliedDate),"MMMM dd, yyyy"):null},{icon:A,label:"Location",value:a.location},{icon:E,label:"Salary",value:a.salary},{icon:F,label:"Job URL",value:a.jobUrl,isLink:!0},{icon:P,label:"Contact Name",value:a.contactName},{icon:I,label:"Contact Email",value:a.contactEmail,isEmail:!0}].filter(s=>s.value);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(l,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6 animate-fade-in",children:e.jsx(r,{asChild:!0,variant:"ghost",size:"sm",children:e.jsxs(n,{to:"/dashboard",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})}),e.jsx("div",{className:"mx-auto max-w-4xl animate-slide-up",children:e.jsxs(o,{variant:"glass",children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10",children:e.jsx(U,{className:"h-8 w-8 text-primary","aria-hidden":"true"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx($,{className:"mb-2 text-3xl bg-gradient-to-r from-primary via-purple-500 to-primary bg-clip-text text-transparent",children:a.company}),e.jsx("p",{className:"text-xl font-medium text-muted-foreground",children:a.position})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-4 py-2 text-sm font-semibold ${S(a.status)}`,children:a.status})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{asChild:!0,variant:"default",children:e.jsxs(n,{to:`/applications/${a._id}/edit`,children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(r,{variant:"destructive",onClick:j,children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}),e.jsxs(_,{children:[c.length>0&&e.jsx("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-2",children:c.map((s,b)=>{const g=s.icon;return e.jsxs(o,{variant:"outlined",className:"group flex items-center gap-4 p-4 transition-all duration-200 hover:border-primary/20 hover:shadow-lg hover:shadow-primary/10",style:{animationDelay:`${b*50}ms`},children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary/20 to-primary/10",children:e.jsx(g,{className:"h-6 w-6 text-primary","aria-hidden":"true"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"mb-1 text-xs font-medium text-muted-foreground",children:s.label}),s.isLink?e.jsxs("a",{href:s.value,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm font-medium text-primary transition-colors hover:text-primary/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[e.jsx("span",{className:"truncate",children:"View Job Posting"}),e.jsx(J,{className:"h-3 w-3 flex-shrink-0","aria-hidden":"true"})]}):s.isEmail?e.jsx("a",{href:`mailto:${s.value}`,className:"text-sm font-medium text-primary transition-colors hover:text-primary/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:s.value}):e.jsx("div",{className:"text-sm font-medium text-foreground",children:s.value})]})]},s.label)})}),a.notes&&e.jsxs("div",{className:"mb-8 animate-fade-in",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-primary","aria-hidden":"true"}),e.jsx("h2",{className:"text-lg font-semibold bg-gradient-to-r from-primary via-purple-500 to-primary bg-clip-text text-transparent",children:"Notes"})]}),e.jsx(o,{variant:"outlined",className:"p-6",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed text-foreground",children:a.notes})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 border-t border-border/50 pt-6 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4","aria-hidden":"true"}),e.jsxs("span",{children:["Created: ",d(new Date(a.createdAt),"MMMM dd, yyyy HH:mm")]})]}),a.updatedAt!==a.createdAt&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4","aria-hidden":"true"}),e.jsxs("span",{children:["Updated: ",d(new Date(a.updatedAt),"MMMM dd, yyyy HH:mm")]})]})]})]})]})})]})]})};export{W as default};
